{"remainingRequest":"E:\\BaiduNetdiskDownload\\02.AI algorithm engineer\\02.python基础及技术\\04.Python web\\05.项目---最好是企业级完整项目\\Vue\\vue3.0+ts仿知乎专栏企业级项目\\仿知乎专栏企业级项目\\资料\\zheye-master\\node_modules\\thread-loader\\dist\\cjs.js!E:\\BaiduNetdiskDownload\\02.AI algorithm engineer\\02.python基础及技术\\04.Python web\\05.项目---最好是企业级完整项目\\Vue\\vue3.0+ts仿知乎专栏企业级项目\\仿知乎专栏企业级项目\\资料\\zheye-master\\node_modules\\babel-loader\\lib\\index.js!E:\\BaiduNetdiskDownload\\02.AI algorithm engineer\\02.python基础及技术\\04.Python web\\05.项目---最好是企业级完整项目\\Vue\\vue3.0+ts仿知乎专栏企业级项目\\仿知乎专栏企业级项目\\资料\\zheye-master\\node_modules\\ts-loader\\index.js??ref--13-3!E:\\BaiduNetdiskDownload\\02.AI algorithm engineer\\02.python基础及技术\\04.Python web\\05.项目---最好是企业级完整项目\\Vue\\vue3.0+ts仿知乎专栏企业级项目\\仿知乎专栏企业级项目\\资料\\zheye-master\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\BaiduNetdiskDownload\\02.AI algorithm engineer\\02.python基础及技术\\04.Python web\\05.项目---最好是企业级完整项目\\Vue\\vue3.0+ts仿知乎专栏企业级项目\\仿知乎专栏企业级项目\\资料\\zheye-master\\node_modules\\vue-cli-plugin-vue-next\\node_modules\\vue-loader\\dist\\index.js??ref--0-1!E:\\BaiduNetdiskDownload\\02.AI algorithm engineer\\02.python基础及技术\\04.Python web\\05.项目---最好是企业级完整项目\\Vue\\vue3.0+ts仿知乎专栏企业级项目\\仿知乎专栏企业级项目\\资料\\zheye-master\\src\\components\\Uploader.vue?vue&type=script&lang=ts","dependencies":[{"path":"E:\\BaiduNetdiskDownload\\02.AI algorithm engineer\\02.python基础及技术\\04.Python web\\05.项目---最好是企业级完整项目\\Vue\\vue3.0+ts仿知乎专栏企业级项目\\仿知乎专栏企业级项目\\资料\\zheye-master\\src\\components\\Uploader.vue","mtime":1664287276055},{"path":"E:\\BaiduNetdiskDownload\\02.AI algorithm engineer\\02.python基础及技术\\04.Python web\\05.项目---最好是企业级完整项目\\Vue\\vue3.0+ts仿知乎专栏企业级项目\\仿知乎专栏企业级项目\\资料\\zheye-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1663604122860},{"path":"E:\\BaiduNetdiskDownload\\02.AI algorithm engineer\\02.python基础及技术\\04.Python web\\05.项目---最好是企业级完整项目\\Vue\\vue3.0+ts仿知乎专栏企业级项目\\仿知乎专栏企业级项目\\资料\\zheye-master\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1663604122792},{"path":"E:\\BaiduNetdiskDownload\\02.AI algorithm engineer\\02.python基础及技术\\04.Python web\\05.项目---最好是企业级完整项目\\Vue\\vue3.0+ts仿知乎专栏企业级项目\\仿知乎专栏企业级项目\\资料\\zheye-master\\node_modules\\babel-loader\\lib\\index.js","mtime":1663604125594},{"path":"E:\\BaiduNetdiskDownload\\02.AI algorithm engineer\\02.python基础及技术\\04.Python web\\05.项目---最好是企业级完整项目\\Vue\\vue3.0+ts仿知乎专栏企业级项目\\仿知乎专栏企业级项目\\资料\\zheye-master\\node_modules\\ts-loader\\index.js","mtime":1663604130729},{"path":"E:\\BaiduNetdiskDownload\\02.AI algorithm engineer\\02.python基础及技术\\04.Python web\\05.项目---最好是企业级完整项目\\Vue\\vue3.0+ts仿知乎专栏企业级项目\\仿知乎专栏企业级项目\\资料\\zheye-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1663604122860},{"path":"E:\\BaiduNetdiskDownload\\02.AI algorithm engineer\\02.python基础及技术\\04.Python web\\05.项目---最好是企业级完整项目\\Vue\\vue3.0+ts仿知乎专栏企业级项目\\仿知乎专栏企业级项目\\资料\\zheye-master\\node_modules\\vue-cli-plugin-vue-next\\node_modules\\vue-loader\\dist\\index.js","mtime":1663604130545}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZnJvbSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IiOwppbXBvcnQgeyBkZWZpbmVDb21wb25lbnQsIHJlZiwgd2F0Y2ggfSBmcm9tICd2dWUnOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwpleHBvcnQgZGVmYXVsdCBkZWZpbmVDb21wb25lbnQoewogIHByb3BzOiB7CiAgICBhY3Rpb246IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIGJlZm9yZVVwbG9hZDogewogICAgICB0eXBlOiBGdW5jdGlvbgogICAgfSwKICAgIHVwbG9hZGVkOiB7CiAgICAgIHR5cGU6IE9iamVjdAogICAgfQogIH0sCiAgaW5oZXJpdEF0dHJzOiBmYWxzZSwKICBlbWl0czogWydmaWxlLXVwbG9hZGVkJywgJ2ZpbGUtdXBsb2FkZWQtZXJyb3InXSwKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAocHJvcHMsIGNvbnRleHQpIHsKICAgIHZhciBmaWxlSW5wdXQgPSByZWYobnVsbCk7CiAgICBjb25zb2xlLmxvZyhwcm9wcy51cGxvYWRlZCk7CiAgICB2YXIgZmlsZVN0YXR1cyA9IHJlZihwcm9wcy51cGxvYWRlZCA/ICdzdWNjZXNzJyA6ICdyZWFkeScpOwogICAgdmFyIHVwbG9hZGVkRGF0YSA9IHJlZihwcm9wcy51cGxvYWRlZCk7CiAgICB3YXRjaChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBwcm9wcy51cGxvYWRlZDsKICAgIH0sIGZ1bmN0aW9uIChuZXdWYWx1ZSkgewogICAgICBpZiAobmV3VmFsdWUpIHsKICAgICAgICBmaWxlU3RhdHVzLnZhbHVlID0gJ3N1Y2Nlc3MnOwogICAgICAgIHVwbG9hZGVkRGF0YS52YWx1ZSA9IG5ld1ZhbHVlOwogICAgICB9CiAgICB9KTsKCiAgICB2YXIgdHJpZ2dlclVwbG9hZCA9IGZ1bmN0aW9uIHRyaWdnZXJVcGxvYWQoKSB7CiAgICAgIGlmIChmaWxlSW5wdXQudmFsdWUpIHsKICAgICAgICBmaWxlSW5wdXQudmFsdWUuY2xpY2soKTsKICAgICAgfQogICAgfTsKCiAgICB2YXIgaGFuZGxlRmlsZUNoYW5nZSA9IGZ1bmN0aW9uIGhhbmRsZUZpbGVDaGFuZ2UoZSkgewogICAgICB2YXIgY3VycmVudFRhcmdldCA9IGUudGFyZ2V0OwoKICAgICAgaWYgKGN1cnJlbnRUYXJnZXQuZmlsZXMpIHsKICAgICAgICB2YXIgZmlsZXMgPSBBcnJheS5mcm9tKGN1cnJlbnRUYXJnZXQuZmlsZXMpOwoKICAgICAgICBpZiAocHJvcHMuYmVmb3JlVXBsb2FkKSB7CiAgICAgICAgICB2YXIgcmVzdWx0ID0gcHJvcHMuYmVmb3JlVXBsb2FkKGZpbGVzWzBdKTsKCiAgICAgICAgICBpZiAoIXJlc3VsdCkgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBmaWxlU3RhdHVzLnZhbHVlID0gJ2xvYWRpbmcnOwogICAgICAgIHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnZmlsZScsIGZpbGVzWzBdKTsKICAgICAgICBheGlvcy5wb3N0KHByb3BzLmFjdGlvbiwgZm9ybURhdGEsIHsKICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdtdWx0aXBhcnQvZm9ybS1kYXRhJwogICAgICAgICAgfQogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICAgIGZpbGVTdGF0dXMudmFsdWUgPSAnc3VjY2Vzcyc7CiAgICAgICAgICB1cGxvYWRlZERhdGEudmFsdWUgPSByZXNwLmRhdGE7CiAgICAgICAgICBjb250ZXh0LmVtaXQoJ2ZpbGUtdXBsb2FkZWQnLCByZXNwLmRhdGEpOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgZmlsZVN0YXR1cy52YWx1ZSA9ICdlcnJvcic7CiAgICAgICAgICBjb250ZXh0LmVtaXQoJ2ZpbGUtdXBsb2FkZWQtZXJyb3InLCB7CiAgICAgICAgICAgIGVycm9yOiBlcnJvcgogICAgICAgICAgfSk7CiAgICAgICAgfSkuZmluYWxseShmdW5jdGlvbiAoKSB7CiAgICAgICAgICBpZiAoZmlsZUlucHV0LnZhbHVlKSB7CiAgICAgICAgICAgIGZpbGVJbnB1dC52YWx1ZS52YWx1ZSA9ICcnOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICB9OwoKICAgIHJldHVybiB7CiAgICAgIGZpbGVJbnB1dDogZmlsZUlucHV0LAogICAgICB0cmlnZ2VyVXBsb2FkOiB0cmlnZ2VyVXBsb2FkLAogICAgICBmaWxlU3RhdHVzOiBmaWxlU3RhdHVzLAogICAgICB1cGxvYWRlZERhdGE6IHVwbG9hZGVkRGF0YSwKICAgICAgaGFuZGxlRmlsZUNoYW5nZTogaGFuZGxlRmlsZUNoYW5nZQogICAgfTsKICB9Cn0pOw=="},{"version":3,"sources":["E:\\BaiduNetdiskDownload\\02.AI algorithm engineer\\02.python基础及技术\\04.Python web\\05.项目---最好是企业级完整项目\\Vue\\vue3.0+ts仿知乎专栏企业级项目\\仿知乎专栏企业级项目\\资料\\zheye-master\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\BaiduNetdiskDownload\\02.AI algorithm engineer\\02.python基础及技术\\04.Python web\\05.项目---最好是企业级完整项目\\Vue\\vue3.0+ts仿知乎专栏企业级项目\\仿知乎专栏企业级项目\\资料\\zheye-master\\node_modules\\vue-cli-plugin-vue-next\\node_modules\\vue-loader\\dist\\index.js??ref--0-1!E:\\BaiduNetdiskDownload\\02.AI algorithm engineer\\02.python基础及技术\\04.Python web\\05.项目---最好是企业级完整项目\\Vue\\vue3.0+ts仿知乎专栏企业级项目\\仿知乎专栏企业级项目\\资料\\zheye-master\\src\\components\\Uploader.vue?vue&type=script&lang=ts"],"names":[],"mappings":"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","sourcesContent":["\nimport { defineComponent, ref, PropType, watch } from 'vue'\nimport axios from 'axios'\ntype UploadStatus = 'ready' | 'loading' | 'success' | 'error'\ntype CheckFunction = (file: File) => boolean;\nexport default defineComponent({\n  props: {\n    action: {\n      type: String,\n      required: true\n    },\n    beforeUpload: {\n      type: Function as PropType<CheckFunction>\n    },\n    uploaded: {\n      type: Object\n    }\n  },\n  inheritAttrs: false,\n  emits: ['file-uploaded', 'file-uploaded-error'],\n  setup(props, context) {\n    const fileInput = ref<null | HTMLInputElement>(null)\n    console.log(props.uploaded)\n    const fileStatus = ref<UploadStatus>(props.uploaded ? 'success' : 'ready')\n    const uploadedData = ref(props.uploaded)\n    watch(() => props.uploaded, (newValue) => {\n      if (newValue) {\n        fileStatus.value = 'success'\n        uploadedData.value = newValue\n      }\n    })\n    const triggerUpload = () => {\n      if (fileInput.value) {\n        fileInput.value.click()\n      }\n    }\n    const handleFileChange = (e: Event) => {\n      const currentTarget = e.target as HTMLInputElement\n      if (currentTarget.files) {\n        const files = Array.from(currentTarget.files)\n        if (props.beforeUpload) {\n          const result = props.beforeUpload(files[0])\n          if (!result) {\n            return\n          }\n        }\n        fileStatus.value = 'loading'\n        const formData = new FormData()\n        formData.append('file', files[0])\n        axios.post(props.action, formData, {\n          headers: {\n            'Content-Type': 'multipart/form-data'\n          }\n        }).then(resp => {\n          fileStatus.value = 'success'\n          uploadedData.value = resp.data\n          context.emit('file-uploaded', resp.data)\n        }).catch((error) => {\n          fileStatus.value = 'error'\n          context.emit('file-uploaded-error', { error })\n        }).finally(() => {\n          if (fileInput.value) {\n            fileInput.value.value = ''\n          }\n        })\n      }\n    }\n    return {\n      fileInput,\n      triggerUpload,\n      fileStatus,\n      uploadedData,\n      handleFileChange\n    }\n  }\n})\n"],"sourceRoot":""}]}