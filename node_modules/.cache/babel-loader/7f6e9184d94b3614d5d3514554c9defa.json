{"remainingRequest":"E:\\BaiduNetdiskDownload\\02.AI algorithm engineer\\02.python基础及技术\\04.Python web\\05.项目---最好是企业级完整项目\\Vue\\vue3.0+ts仿知乎专栏企业级项目\\仿知乎专栏企业级项目\\资料\\zheye-master\\node_modules\\thread-loader\\dist\\cjs.js!E:\\BaiduNetdiskDownload\\02.AI algorithm engineer\\02.python基础及技术\\04.Python web\\05.项目---最好是企业级完整项目\\Vue\\vue3.0+ts仿知乎专栏企业级项目\\仿知乎专栏企业级项目\\资料\\zheye-master\\node_modules\\babel-loader\\lib\\index.js!E:\\BaiduNetdiskDownload\\02.AI algorithm engineer\\02.python基础及技术\\04.Python web\\05.项目---最好是企业级完整项目\\Vue\\vue3.0+ts仿知乎专栏企业级项目\\仿知乎专栏企业级项目\\资料\\zheye-master\\node_modules\\vue-cli-plugin-vue-next\\node_modules\\vue-loader\\dist\\templateLoader.js??ref--6!E:\\BaiduNetdiskDownload\\02.AI algorithm engineer\\02.python基础及技术\\04.Python web\\05.项目---最好是企业级完整项目\\Vue\\vue3.0+ts仿知乎专栏企业级项目\\仿知乎专栏企业级项目\\资料\\zheye-master\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\BaiduNetdiskDownload\\02.AI algorithm engineer\\02.python基础及技术\\04.Python web\\05.项目---最好是企业级完整项目\\Vue\\vue3.0+ts仿知乎专栏企业级项目\\仿知乎专栏企业级项目\\资料\\zheye-master\\node_modules\\vue-cli-plugin-vue-next\\node_modules\\vue-loader\\dist\\index.js??ref--0-1!E:\\BaiduNetdiskDownload\\02.AI algorithm engineer\\02.python基础及技术\\04.Python web\\05.项目---最好是企业级完整项目\\Vue\\vue3.0+ts仿知乎专栏企业级项目\\仿知乎专栏企业级项目\\资料\\zheye-master\\src\\views\\CreatePost.vue?vue&type=template&id=2755ad6d","dependencies":[{"path":"E:\\BaiduNetdiskDownload\\02.AI algorithm engineer\\02.python基础及技术\\04.Python web\\05.项目---最好是企业级完整项目\\Vue\\vue3.0+ts仿知乎专栏企业级项目\\仿知乎专栏企业级项目\\资料\\zheye-master\\src\\views\\CreatePost.vue","mtime":1664289223800},{"path":"E:\\BaiduNetdiskDownload\\02.AI algorithm engineer\\02.python基础及技术\\04.Python web\\05.项目---最好是企业级完整项目\\Vue\\vue3.0+ts仿知乎专栏企业级项目\\仿知乎专栏企业级项目\\资料\\zheye-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1663604122860},{"path":"E:\\BaiduNetdiskDownload\\02.AI algorithm engineer\\02.python基础及技术\\04.Python web\\05.项目---最好是企业级完整项目\\Vue\\vue3.0+ts仿知乎专栏企业级项目\\仿知乎专栏企业级项目\\资料\\zheye-master\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1663604122792},{"path":"E:\\BaiduNetdiskDownload\\02.AI algorithm engineer\\02.python基础及技术\\04.Python web\\05.项目---最好是企业级完整项目\\Vue\\vue3.0+ts仿知乎专栏企业级项目\\仿知乎专栏企业级项目\\资料\\zheye-master\\node_modules\\babel-loader\\lib\\index.js","mtime":1663604125594},{"path":"E:\\BaiduNetdiskDownload\\02.AI algorithm engineer\\02.python基础及技术\\04.Python web\\05.项目---最好是企业级完整项目\\Vue\\vue3.0+ts仿知乎专栏企业级项目\\仿知乎专栏企业级项目\\资料\\zheye-master\\node_modules\\vue-cli-plugin-vue-next\\node_modules\\vue-loader\\dist\\templateLoader.js","mtime":1663604132381},{"path":"E:\\BaiduNetdiskDownload\\02.AI algorithm engineer\\02.python基础及技术\\04.Python web\\05.项目---最好是企业级完整项目\\Vue\\vue3.0+ts仿知乎专栏企业级项目\\仿知乎专栏企业级项目\\资料\\zheye-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1663604122860},{"path":"E:\\BaiduNetdiskDownload\\02.AI algorithm engineer\\02.python基础及技术\\04.Python web\\05.项目---最好是企业级完整项目\\Vue\\vue3.0+ts仿知乎专栏企业级项目\\仿知乎专栏企业级项目\\资料\\zheye-master\\node_modules\\vue-cli-plugin-vue-next\\node_modules\\vue-loader\\dist\\index.js","mtime":1663604130545}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0IHsgdG9EaXNwbGF5U3RyaW5nIGFzIF90b0Rpc3BsYXlTdHJpbmcsIGNyZWF0ZVZOb2RlIGFzIF9jcmVhdGVWTm9kZSwgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgd2l0aEN0eCBhcyBfd2l0aEN0eCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUJsb2NrIGFzIF9jcmVhdGVCbG9jayB9IGZyb20gInZ1ZSI7CnZhciBfaG9pc3RlZF8xID0gewogIGNsYXNzOiAiY3JlYXRlLXBvc3QtcGFnZSIKfTsKCnZhciBfaG9pc3RlZF8yID0gLyojX19QVVJFX18qL19jcmVhdGVWTm9kZSgiaDIiLCBudWxsLCAi54K55Ye75LiK5Lyg5aS05Zu+IiwgLTEpOwoKdmFyIF9ob2lzdGVkXzMgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVZOb2RlKCJkaXYiLCB7CiAgY2xhc3M6ICJkLWZsZXgiCn0sIFsvKiNfX1BVUkVfXyovX2NyZWF0ZVZOb2RlKCJkaXYiLCB7CiAgY2xhc3M6ICJzcGlubmVyLWJvcmRlciB0ZXh0LXNlY29uZGFyeSIsCiAgcm9sZTogInN0YXR1cyIKfSwgWy8qI19fUFVSRV9fKi9fY3JlYXRlVk5vZGUoInNwYW4iLCB7CiAgY2xhc3M6ICJzci1vbmx5Igp9LCAiTG9hZGluZy4uLiIpXSksIC8qI19fUFVSRV9fKi9fY3JlYXRlVk5vZGUoImgyIiwgbnVsbCwgIuato+WcqOS4iuS8oCIpXSwgLTEpOwoKdmFyIF9ob2lzdGVkXzQgPSB7CiAgY2xhc3M6ICJ1cGxvYWRlZC1hcmVhIgp9OwoKdmFyIF9ob2lzdGVkXzUgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVZOb2RlKCJoMyIsIG51bGwsICLngrnlh7vph43mlrDkuIrkvKAiLCAtMSk7Cgp2YXIgX2hvaXN0ZWRfNiA9IHsKICBjbGFzczogIm1iLTMiCn07Cgp2YXIgX2hvaXN0ZWRfNyA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVk5vZGUoImxhYmVsIiwgewogIGNsYXNzOiAiZm9ybS1sYWJlbCIKfSwgIuaWh+eroOagh+mimO+8miIsIC0xKTsKCnZhciBfaG9pc3RlZF84ID0gewogIGNsYXNzOiAibWItMyIKfTsKCnZhciBfaG9pc3RlZF85ID0gLyojX19QVVJFX18qL19jcmVhdGVWTm9kZSgibGFiZWwiLCB7CiAgY2xhc3M6ICJmb3JtLWxhYmVsIgp9LCAi5paH56ug6K+m5oOF77yaIiwgLTEpOwoKdmFyIF9ob2lzdGVkXzEwID0gewogIGNsYXNzOiAiYnRuIGJ0bi1pbmZvIGJ0bi1sYXJnZSIKfTsKZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcihfY3R4LCBfY2FjaGUpIHsKICB2YXIgX2NvbXBvbmVudF91cGxvYWRlciA9IF9yZXNvbHZlQ29tcG9uZW50KCJ1cGxvYWRlciIpOwoKICB2YXIgX2NvbXBvbmVudF92YWxpZGF0ZV9pbnB1dCA9IF9yZXNvbHZlQ29tcG9uZW50KCJ2YWxpZGF0ZS1pbnB1dCIpOwoKICB2YXIgX2NvbXBvbmVudF92YWxpZGF0ZV9mb3JtID0gX3Jlc29sdmVDb21wb25lbnQoInZhbGlkYXRlLWZvcm0iKTsKCiAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKCJkaXYiLCBfaG9pc3RlZF8xLCBbX2NyZWF0ZVZOb2RlKCJoNCIsIG51bGwsIF90b0Rpc3BsYXlTdHJpbmcoX2N0eC5pc0VkaXRNb2RlID8gJ+e8lui+keaWh+eroCcgOiAn5paw5bu65paH56ugJyksIDEpLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF91cGxvYWRlciwgewogICAgYWN0aW9uOiAiL3VwbG9hZCIsCiAgICBiZWZvcmVVcGxvYWQ6IF9jdHgudXBsb2FkQ2hlY2ssCiAgICAib25GaWxlLXVwbG9hZGVkIjogX2NhY2hlWzFdIHx8IChfY2FjaGVbMV0gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHsKICAgICAgICBhcmdzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTsKICAgICAgfQoKICAgICAgcmV0dXJuIF9jdHguaGFuZGxlRmlsZVVwbG9hZGVkLmFwcGx5KF9jdHgsIFskZXZlbnRdLmNvbmNhdChhcmdzKSk7CiAgICB9KSwKICAgIHVwbG9hZGVkOiBfY3R4LnVwbG9hZGVkRGF0YSwKICAgIGNsYXNzOiAiZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyIGJnLWxpZ2h0IHRleHQtc2Vjb25kYXJ5IHctMTAwIG15LTQiCiAgfSwgewogICAgbG9hZGluZzogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gW19ob2lzdGVkXzNdOwogICAgfSksCiAgICB1cGxvYWRlZDogX3dpdGhDdHgoZnVuY3Rpb24gKGRhdGFQcm9wcykgewogICAgICByZXR1cm4gW19jcmVhdGVWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNCwgW19jcmVhdGVWTm9kZSgiaW1nIiwgewogICAgICAgIHNyYzogZGF0YVByb3BzLnVwbG9hZGVkRGF0YS5kYXRhLnVybAogICAgICB9LCBudWxsLCA4LCBbInNyYyJdKSwgX2hvaXN0ZWRfNV0pXTsKICAgIH0pLAogICAgZGVmYXVsdDogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gW19ob2lzdGVkXzJdOwogICAgfSksCiAgICBfOiAxCiAgfSwgOCwgWyJiZWZvcmVVcGxvYWQiLCAidXBsb2FkZWQiXSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X3ZhbGlkYXRlX2Zvcm0sIHsKICAgICJvbkZvcm0tc3VibWl0IjogX2NhY2hlWzRdIHx8IChfY2FjaGVbNF0gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMiA+IDEgPyBfbGVuMiAtIDEgOiAwKSwgX2tleTIgPSAxOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7CiAgICAgICAgYXJnc1tfa2V5MiAtIDFdID0gYXJndW1lbnRzW19rZXkyXTsKICAgICAgfQoKICAgICAgcmV0dXJuIF9jdHgub25Gb3JtU3VibWl0LmFwcGx5KF9jdHgsIFskZXZlbnRdLmNvbmNhdChhcmdzKSk7CiAgICB9KQogIH0sIHsKICAgIHN1Ym1pdDogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gW19jcmVhdGVWTm9kZSgiYnV0dG9uIiwgX2hvaXN0ZWRfMTAsIF90b0Rpc3BsYXlTdHJpbmcoX2N0eC5pc0VkaXRNb2RlID8gJ+abtOaWsOaWh+eroCcgOiAn5Y+R6KGo5paH56ugJyksIDEpXTsKICAgIH0pLAogICAgZGVmYXVsdDogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gW19jcmVhdGVWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNiwgW19ob2lzdGVkXzcsIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X3ZhbGlkYXRlX2lucHV0LCB7CiAgICAgICAgcnVsZXM6IF9jdHgudGl0bGVSdWxlcywKICAgICAgICBtb2RlbFZhbHVlOiBfY3R4LnRpdGxlVmFsLAogICAgICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzJdIHx8IChfY2FjaGVbMl0gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgICAgICByZXR1cm4gX2N0eC50aXRsZVZhbCA9ICRldmVudDsKICAgICAgICB9KSwKICAgICAgICBwbGFjZWhvbGRlcjogIuivt+i+k+WFpeaWh+eroOagh+mimCIsCiAgICAgICAgdHlwZTogInRleHQiCiAgICAgIH0sIG51bGwsIDgsIFsicnVsZXMiLCAibW9kZWxWYWx1ZSJdKV0pLCBfY3JlYXRlVk5vZGUoImRpdiIsIF9ob2lzdGVkXzgsIFtfaG9pc3RlZF85LCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF92YWxpZGF0ZV9pbnB1dCwgewogICAgICAgIHJvd3M6ICIxMCIsCiAgICAgICAgdGFnOiAidGV4dGFyZWEiLAogICAgICAgIHBsYWNlaG9sZGVyOiAi6K+36L6T5YWl5paH56ug6K+m5oOFIiwKICAgICAgICBydWxlczogX2N0eC5jb250ZW50UnVsZXMsCiAgICAgICAgbW9kZWxWYWx1ZTogX2N0eC5jb250ZW50VmFsLAogICAgICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzNdIHx8IChfY2FjaGVbM10gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgICAgICByZXR1cm4gX2N0eC5jb250ZW50VmFsID0gJGV2ZW50OwogICAgICAgIH0pCiAgICAgIH0sIG51bGwsIDgsIFsicnVsZXMiLCAibW9kZWxWYWx1ZSJdKV0pXTsKICAgIH0pLAogICAgXzogMQogIH0pXSk7Cn0="},{"version":3,"sources":["E:\\BaiduNetdiskDownload\\02.AI algorithm engineer\\02.python基础及技术\\04.Python web\\05.项目---最好是企业级完整项目\\Vue\\vue3.0+ts仿知乎专栏企业级项目\\仿知乎专栏企业级项目\\资料\\zheye-master\\src\\views\\CreatePost.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"create-post-page\">\n    <h4>{{isEditMode ? '编辑文章' : '新建文章'}}</h4>\n    <uploader\n      action=\"/upload\"\n      :beforeUpload=\"uploadCheck\"\n      @file-uploaded=\"handleFileUploaded\"\n      :uploaded=\"uploadedData\"\n      class=\"d-flex align-items-center justify-content-center bg-light text-secondary w-100 my-4\"\n    >\n      <h2>点击上传头图</h2>\n      <template #loading>\n        <div class=\"d-flex\">\n          <div class=\"spinner-border text-secondary\" role=\"status\">\n            <span class=\"sr-only\">Loading...</span>\n          </div>\n          <h2>正在上传</h2>\n        </div>\n      </template>\n      <template #uploaded=\"dataProps\">\n        <div class=\"uploaded-area\">\n          <img :src=\"dataProps.uploadedData.data.url\">\n          <h3>点击重新上传</h3>\n        </div>\n      </template>\n    </uploader>\n    <validate-form @form-submit=\"onFormSubmit\">\n      <div class=\"mb-3\">\n        <label class=\"form-label\">文章标题：</label>\n        <validate-input\n          :rules=\"titleRules\" v-model=\"titleVal\"\n          placeholder=\"请输入文章标题\"\n          type=\"text\"\n        />\n      </div>\n      <div class=\"mb-3\">\n        <label class=\"form-label\">文章详情：</label>\n        <validate-input\n          rows=\"10\"\n          tag=\"textarea\"\n          placeholder=\"请输入文章详情\"\n          :rules=\"contentRules\"\n          v-model=\"contentVal\"\n        />\n      </div>\n      <template #submit>\n        <button class=\"btn btn-info btn-large\">{{isEditMode ? '更新文章' : '发表文章'}}\n</button>\n      </template>\n    </validate-form>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref, onMounted } from 'vue'\nimport { useStore } from 'vuex'\nimport { useRouter, useRoute } from 'vue-router'\nimport { GlobalDataProps, PostProps, ResponseType, ImageProps } from '../store'\nimport ValidateInput, { RulesProp } from '../components/ValidateInput.vue'\nimport ValidateForm from '../components/ValidateForm.vue'\nimport Uploader from '../components/Uploader.vue'\nimport createMessage from '../components/createMessage'\nimport { beforeUploadCheck } from '../helper'\nexport default defineComponent({\n  name: 'Login',\n  components: {\n    ValidateInput,\n    ValidateForm,\n    Uploader\n  },\n  setup() {\n    const uploadedData = ref()\n    const titleVal = ref('')\n    const router = useRouter()\n    const route = useRoute()\n    const isEditMode = !!route.query.id\n    const store = useStore<GlobalDataProps>()\n    let imageId = ''\n    const titleRules: RulesProp = [\n      { type: 'required', message: '文章标题不能为空' }\n    ]\n    const contentVal = ref('')\n    const contentRules: RulesProp = [\n      { type: 'required', message: '文章详情不能为空' }\n    ]\n    onMounted(() => {\n      if (isEditMode) {\n        store.dispatch('fetchPost', route.query.id).then((rawData: ResponseType<PostProps>) => {\n          const currentPost = rawData.data\n          if (currentPost.image) {\n            uploadedData.value = { data: currentPost.image }\n          }\n          titleVal.value = currentPost.title\n          contentVal.value = currentPost.content || ''\n        })\n      }\n    })\n    const handleFileUploaded = (rawData: ResponseType<ImageProps>) => {\n      if (rawData.data._id) {\n        imageId = rawData.data._id\n      }\n    }\n    const onFormSubmit = (result: boolean) => {\n      if (result) {\n        const { column, _id } = store.state.user\n        if (column) {\n          const newPost: PostProps = {\n            title: titleVal.value,\n            content: contentVal.value,\n            column,\n            author: _id\n          }\n          if (imageId) {\n            newPost.image = imageId\n          }\n          const actionName = isEditMode ? 'updatePost' : 'createPost'\n          const sendData = isEditMode ? {\n            id: route.query.id,\n            payload: newPost\n          } : newPost\n          store.dispatch(actionName, sendData).then(() => {\n            createMessage('发表成功，2秒后跳转到文章', 'success', 2000)\n            setTimeout(() => {\n              router.push({ name: 'column', params: { id: column } })\n            }, 2000)\n          })\n        }\n      }\n    }\n    const uploadCheck = (file: File) => {\n      const result = beforeUploadCheck(file, { format: ['image/jpeg', 'image/png'], size: 1 })\n      const { passed, error } = result\n      if (error === 'format') {\n        createMessage('上传图片只能是 JPG/PNG 格式!', 'error')\n      }\n      if (error === 'size') {\n        createMessage('上传图片大小不能超过 1Mb', 'error')\n      }\n      return passed\n    }\n    return {\n      titleRules,\n      titleVal,\n      contentVal,\n      contentRules,\n      onFormSubmit,\n      uploadCheck,\n      handleFileUploaded,\n      uploadedData,\n      isEditMode\n    }\n  }\n})\n</script>\n<style>\n.create-post-page .file-upload-container {\n  height: 200px;\n  cursor: pointer;\n  overflow: hidden;\n}\n.create-post-page .file-upload-container img {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n.uploaded-area {\n  position: relative;\n}\n.uploaded-area:hover h3 {\n  display: block;\n}\n.uploaded-area h3 {\n  display: none;\n  position: absolute;\n  color: #999;\n  text-align: center;\n  width: 100%;\n  top: 50%;\n}\n</style>\n"],"sourceRoot":""}]}