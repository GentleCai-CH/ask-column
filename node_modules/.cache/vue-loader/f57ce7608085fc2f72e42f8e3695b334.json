{"remainingRequest":"E:\\BaiduNetdiskDownload\\02.AI algorithm engineer\\02.python基础及技术\\04.Python web\\05.项目---最好是企业级完整项目\\Vue\\vue3.0+ts仿知乎专栏企业级项目\\仿知乎专栏企业级项目\\资料\\zheye-master\\node_modules\\vue-cli-plugin-vue-next\\node_modules\\vue-loader\\dist\\index.js??ref--0-1!E:\\BaiduNetdiskDownload\\02.AI algorithm engineer\\02.python基础及技术\\04.Python web\\05.项目---最好是企业级完整项目\\Vue\\vue3.0+ts仿知乎专栏企业级项目\\仿知乎专栏企业级项目\\资料\\zheye-master\\src\\views\\CreatePost.vue?vue&type=template&id=18d033f5","dependencies":[{"path":"E:\\BaiduNetdiskDownload\\02.AI algorithm engineer\\02.python基础及技术\\04.Python web\\05.项目---最好是企业级完整项目\\Vue\\vue3.0+ts仿知乎专栏企业级项目\\仿知乎专栏企业级项目\\资料\\zheye-master\\src\\views\\CreatePost.vue","mtime":1602732239000},{"path":"E:\\BaiduNetdiskDownload\\02.AI algorithm engineer\\02.python基础及技术\\04.Python web\\05.项目---最好是企业级完整项目\\Vue\\vue3.0+ts仿知乎专栏企业级项目\\仿知乎专栏企业级项目\\资料\\zheye-master\\node_modules\\babel-loader\\lib\\index.js","mtime":1663604125594},{"path":"E:\\BaiduNetdiskDownload\\02.AI algorithm engineer\\02.python基础及技术\\04.Python web\\05.项目---最好是企业级完整项目\\Vue\\vue3.0+ts仿知乎专栏企业级项目\\仿知乎专栏企业级项目\\资料\\zheye-master\\node_modules\\vue-cli-plugin-vue-next\\node_modules\\vue-loader\\dist\\templateLoader.js","mtime":1663604132381},{"path":"E:\\BaiduNetdiskDownload\\02.AI algorithm engineer\\02.python基础及技术\\04.Python web\\05.项目---最好是企业级完整项目\\Vue\\vue3.0+ts仿知乎专栏企业级项目\\仿知乎专栏企业级项目\\资料\\zheye-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1663604122860},{"path":"E:\\BaiduNetdiskDownload\\02.AI algorithm engineer\\02.python基础及技术\\04.Python web\\05.项目---最好是企业级完整项目\\Vue\\vue3.0+ts仿知乎专栏企业级项目\\仿知乎专栏企业级项目\\资料\\zheye-master\\node_modules\\vue-cli-plugin-vue-next\\node_modules\\vue-loader\\dist\\index.js","mtime":1663604130545}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgPGRpdiBjbGFzcz0iY3JlYXRlLXBvc3QtcGFnZSI+CiAgICA8aDQ+e3tpc0VkaXRNb2RlID8gJ+e8lui+keaWh+eroCcgOiAn5paw5bu65paH56ugJ319PC9oND4KICAgIDx1cGxvYWRlcgogICAgICBhY3Rpb249Ii91cGxvYWQiCiAgICAgIDpiZWZvcmVVcGxvYWQ9InVwbG9hZENoZWNrIgogICAgICBAZmlsZS11cGxvYWRlZD0iaGFuZGxlRmlsZVVwbG9hZGVkIgogICAgICA6dXBsb2FkZWQ9InVwbG9hZGVkRGF0YSIKICAgICAgY2xhc3M9ImQtZmxleCBhbGlnbi1pdGVtcy1jZW50ZXIganVzdGlmeS1jb250ZW50LWNlbnRlciBiZy1saWdodCB0ZXh0LXNlY29uZGFyeSB3LTEwMCBteS00IgogICAgPgogICAgICA8aDI+54K55Ye75LiK5Lyg5aS05Zu+PC9oMj4KICAgICAgPHRlbXBsYXRlICNsb2FkaW5nPgogICAgICAgIDxkaXYgY2xhc3M9ImQtZmxleCI+CiAgICAgICAgICA8ZGl2IGNsYXNzPSJzcGlubmVyLWJvcmRlciB0ZXh0LXNlY29uZGFyeSIgcm9sZT0ic3RhdHVzIj4KICAgICAgICAgICAgPHNwYW4gY2xhc3M9InNyLW9ubHkiPkxvYWRpbmcuLi48L3NwYW4+CiAgICAgICAgICA8L2Rpdj4KICAgICAgICAgIDxoMj7mraPlnKjkuIrkvKA8L2gyPgogICAgICAgIDwvZGl2PgogICAgICA8L3RlbXBsYXRlPgogICAgICA8dGVtcGxhdGUgI3VwbG9hZGVkPSJkYXRhUHJvcHMiPgogICAgICAgIDxkaXYgY2xhc3M9InVwbG9hZGVkLWFyZWEiPgogICAgICAgICAgPGltZyA6c3JjPSJkYXRhUHJvcHMudXBsb2FkZWREYXRhLmRhdGEudXJsIj4KICAgICAgICAgIDxoMz7ngrnlh7vph43mlrDkuIrkvKA8L2gzPgogICAgICAgIDwvZGl2PgogICAgICA8L3RlbXBsYXRlPgogICAgPC91cGxvYWRlcj4KICAgIDx2YWxpZGF0ZS1mb3JtIEBmb3JtLXN1Ym1pdD0ib25Gb3JtU3VibWl0Ij4KICAgICAgPGRpdiBjbGFzcz0ibWItMyI+CiAgICAgICAgPGxhYmVsIGNsYXNzPSJmb3JtLWxhYmVsIj7mlofnq6DmoIfpopjvvJo8L2xhYmVsPgogICAgICAgIDx2YWxpZGF0ZS1pbnB1dAogICAgICAgICAgOnJ1bGVzPSJ0aXRsZVJ1bGVzIiB2LW1vZGVsPSJ0aXRsZVZhbCIKICAgICAgICAgIHBsYWNlaG9sZGVyPSLor7fovpPlhaXmlofnq6DmoIfpopgiCiAgICAgICAgICB0eXBlPSJ0ZXh0IgogICAgICAgIC8+CiAgICAgIDwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJtYi0zIj4KICAgICAgICA8bGFiZWwgY2xhc3M9ImZvcm0tbGFiZWwiPuaWh+eroOivpuaDhe+8mjwvbGFiZWw+CiAgICAgICAgPHZhbGlkYXRlLWlucHV0CiAgICAgICAgICByb3dzPSIxMCIKICAgICAgICAgIHRhZz0idGV4dGFyZWEiCiAgICAgICAgICBwbGFjZWhvbGRlcj0i6K+36L6T5YWl5paH56ug6K+m5oOFIgogICAgICAgICAgOnJ1bGVzPSJjb250ZW50UnVsZXMiCiAgICAgICAgICB2LW1vZGVsPSJjb250ZW50VmFsIgogICAgICAgIC8+CiAgICAgIDwvZGl2PgogICAgICA8dGVtcGxhdGUgI3N1Ym1pdD4KICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLXByaW1hcnkgYnRuLWxhcmdlIj57e2lzRWRpdE1vZGUgPyAn5pu05paw5paH56ugJyA6ICflj5Hooajmlofnq6AnfX0KPC9idXR0b24+CiAgICAgIDwvdGVtcGxhdGU+CiAgICA8L3ZhbGlkYXRlLWZvcm0+CiAgPC9kaXY+Cg=="},{"version":3,"sources":["E:\\BaiduNetdiskDownload\\02.AI algorithm engineer\\02.python基础及技术\\04.Python web\\05.项目---最好是企业级完整项目\\Vue\\vue3.0+ts仿知乎专栏企业级项目\\仿知乎专栏企业级项目\\资料\\zheye-master\\src\\views\\CreatePost.vue"],"names":[],"mappings":"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","file":"E:/BaiduNetdiskDownload/02.AI algorithm engineer/02.python基础及技术/04.Python web/05.项目---最好是企业级完整项目/Vue/vue3.0+ts仿知乎专栏企业级项目/仿知乎专栏企业级项目/资料/zheye-master/src/views/CreatePost.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"create-post-page\">\n    <h4>{{isEditMode ? '编辑文章' : '新建文章'}}</h4>\n    <uploader\n      action=\"/upload\"\n      :beforeUpload=\"uploadCheck\"\n      @file-uploaded=\"handleFileUploaded\"\n      :uploaded=\"uploadedData\"\n      class=\"d-flex align-items-center justify-content-center bg-light text-secondary w-100 my-4\"\n    >\n      <h2>点击上传头图</h2>\n      <template #loading>\n        <div class=\"d-flex\">\n          <div class=\"spinner-border text-secondary\" role=\"status\">\n            <span class=\"sr-only\">Loading...</span>\n          </div>\n          <h2>正在上传</h2>\n        </div>\n      </template>\n      <template #uploaded=\"dataProps\">\n        <div class=\"uploaded-area\">\n          <img :src=\"dataProps.uploadedData.data.url\">\n          <h3>点击重新上传</h3>\n        </div>\n      </template>\n    </uploader>\n    <validate-form @form-submit=\"onFormSubmit\">\n      <div class=\"mb-3\">\n        <label class=\"form-label\">文章标题：</label>\n        <validate-input\n          :rules=\"titleRules\" v-model=\"titleVal\"\n          placeholder=\"请输入文章标题\"\n          type=\"text\"\n        />\n      </div>\n      <div class=\"mb-3\">\n        <label class=\"form-label\">文章详情：</label>\n        <validate-input\n          rows=\"10\"\n          tag=\"textarea\"\n          placeholder=\"请输入文章详情\"\n          :rules=\"contentRules\"\n          v-model=\"contentVal\"\n        />\n      </div>\n      <template #submit>\n        <button class=\"btn btn-primary btn-large\">{{isEditMode ? '更新文章' : '发表文章'}}\n</button>\n      </template>\n    </validate-form>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref, onMounted } from 'vue'\nimport { useStore } from 'vuex'\nimport { useRouter, useRoute } from 'vue-router'\nimport { GlobalDataProps, PostProps, ResponseType, ImageProps } from '../store'\nimport ValidateInput, { RulesProp } from '../components/ValidateInput.vue'\nimport ValidateForm from '../components/ValidateForm.vue'\nimport Uploader from '../components/Uploader.vue'\nimport createMessage from '../components/createMessage'\nimport { beforeUploadCheck } from '../helper'\nexport default defineComponent({\n  name: 'Login',\n  components: {\n    ValidateInput,\n    ValidateForm,\n    Uploader\n  },\n  setup() {\n    const uploadedData = ref()\n    const titleVal = ref('')\n    const router = useRouter()\n    const route = useRoute()\n    const isEditMode = !!route.query.id\n    const store = useStore<GlobalDataProps>()\n    let imageId = ''\n    const titleRules: RulesProp = [\n      { type: 'required', message: '文章标题不能为空' }\n    ]\n    const contentVal = ref('')\n    const contentRules: RulesProp = [\n      { type: 'required', message: '文章详情不能为空' }\n    ]\n    onMounted(() => {\n      if (isEditMode) {\n        store.dispatch('fetchPost', route.query.id).then((rawData: ResponseType<PostProps>) => {\n          const currentPost = rawData.data\n          if (currentPost.image) {\n            uploadedData.value = { data: currentPost.image }\n          }\n          titleVal.value = currentPost.title\n          contentVal.value = currentPost.content || ''\n        })\n      }\n    })\n    const handleFileUploaded = (rawData: ResponseType<ImageProps>) => {\n      if (rawData.data._id) {\n        imageId = rawData.data._id\n      }\n    }\n    const onFormSubmit = (result: boolean) => {\n      if (result) {\n        const { column, _id } = store.state.user\n        if (column) {\n          const newPost: PostProps = {\n            title: titleVal.value,\n            content: contentVal.value,\n            column,\n            author: _id\n          }\n          if (imageId) {\n            newPost.image = imageId\n          }\n          const actionName = isEditMode ? 'updatePost' : 'createPost'\n          const sendData = isEditMode ? {\n            id: route.query.id,\n            payload: newPost\n          } : newPost\n          store.dispatch(actionName, sendData).then(() => {\n            createMessage('发表成功，2秒后跳转到文章', 'success', 2000)\n            setTimeout(() => {\n              router.push({ name: 'column', params: { id: column } })\n            }, 2000)\n          })\n        }\n      }\n    }\n    const uploadCheck = (file: File) => {\n      const result = beforeUploadCheck(file, { format: ['image/jpeg', 'image/png'], size: 1 })\n      const { passed, error } = result\n      if (error === 'format') {\n        createMessage('上传图片只能是 JPG/PNG 格式!', 'error')\n      }\n      if (error === 'size') {\n        createMessage('上传图片大小不能超过 1Mb', 'error')\n      }\n      return passed\n    }\n    return {\n      titleRules,\n      titleVal,\n      contentVal,\n      contentRules,\n      onFormSubmit,\n      uploadCheck,\n      handleFileUploaded,\n      uploadedData,\n      isEditMode\n    }\n  }\n})\n</script>\n<style>\n.create-post-page .file-upload-container {\n  height: 200px;\n  cursor: pointer;\n  overflow: hidden;\n}\n.create-post-page .file-upload-container img {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n.uploaded-area {\n  position: relative;\n}\n.uploaded-area:hover h3 {\n  display: block;\n}\n.uploaded-area h3 {\n  display: none;\n  position: absolute;\n  color: #999;\n  text-align: center;\n  width: 100%;\n  top: 50%;\n}\n</style>\n"]}]}